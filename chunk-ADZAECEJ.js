import{a as I,b as R}from"./chunk-BDAJZIGQ.js";import"./chunk-LJ5XHLMQ.js";import{e as L,f as N}from"./chunk-YGUZSGJS.js";import{Ca as S,J as y,La as g,Ma as w,Na as k,Oa as C,P as s,Pa as e,Qa as t,Ra as h,Sa as b,Ta as E,Ua as i,Va as u,bb as f,da as v,na as l,pa as d,ya as _}from"./chunk-SY5MMW75.js";import{a as p,b as c,h as m}from"./chunk-FK42CRUA.js";var x=class o{_supabaseClient=s(I).supabaseClient;_state=v({notes:[],loading:!1,error:!1});notes=f(()=>this._state().notes);loading=f(()=>this._state().loading);error=f(()=>this._state().error);getAllNotes(){return m(this,null,function*(){try{this._state.update(n=>c(p({},n),{loading:!0}));let{data:r}=yield this._supabaseClient.from("notes").select().returns();r&&this._state.update(n=>c(p({},n),{notes:r}))}catch{this._state.update(n=>c(p({},n),{error:!0}))}finally{this._state.update(r=>c(p({},r),{loading:!1}))}})}static \u0275fac=function(n){return new(n||o)};static \u0275prov=y({token:o,factory:o.\u0275fac,providedIn:"root"})};function j(o,r){o&1&&(e(0,"tr",25)(1,"td",26)(2,"p",27),i(3," Loading... "),t()()())}function D(o,r){if(o&1&&(e(0,"tr",25)(1,"td",28),i(2),t(),e(3,"td",29),i(4),t(),e(5,"td",29),i(6),t(),e(7,"td",30)(8,"a",31),i(9,"Edit"),t(),e(10,"a",32),i(11,"Remove"),t()()()),o&2){let n,a=r.$implicit;d(2),u(" ",a.id," "),d(2),u(" ",a.title," "),d(2),u(" ",(n=a.description)!==null&&n!==void 0?n:"No hay descripcion"," ")}}function F(o,r){o&1&&(e(0,"tr",25)(1,"td",33),i(2," No hay notas para este usuario "),t()())}function B(o,r){if(o&1&&k(0,D,12,3,"tr",25,w,!1,F,3,0,"tr",25),o&2){let n=E();C(n.notesService.notes())}}var T=class o{_authService=s(R);_router=s(L);notesService=s(x);logOut(){return m(this,null,function*(){yield this._authService.signOut(),this._router.navigateByUrl("/auth/log-in")})}ngAfterViewInit(){this.notesService.getAllNotes()}toggleSidebar(){document.querySelector("#sidebar")?.classList.toggle("collapsed")}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=_({type:o,selectors:[["app-note-list"]],decls:56,vars:2,consts:[["rel","stylesheet","href",l`https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0`],["rel","stylesheet","href",l`https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200`],["rel","preconnect","href",l`https://fonts.googleapis.com`],["rel","preconnect","href",l`https://fonts.gstatic.com`,"crossorigin",""],["href",l`https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap`,"rel","stylesheet"],[1,"absolute","inset-0","-z-10","h-full","w-full","bg-gray-200","bg-[radial-gradient(#B8B8B8_1px,transparent_1px)]","[background-size:16px_16px]"],["id","sidebar",1,"fixed","w-[240px]","min-h-[100vh]","bg-white","transition-all","duration-300","overflow-hidden","ease-in-out"],["id","sidebar-header",1,"relative","box-border","fixed","items-center","justify-between","px-[15px]","py-[20px]","pb-12"],["routerLink","/","id","header-logo",1,""],["src","https://raw.githubusercontent.com/SexAtTheTerminal/mis-imagenes/refs/heads/main/swsLogo.svg","alt","headerlogo",1,"h-[46px]","w-[46px]","block","object-contain","rounded-[50%]"],["id","sidebar-toggler",1,"absolute","top-[73px]","right-[15px]","h-[35px]","w-[35px]","flex","items-center","justify-center","cursor-pointer","rounded-[8px]","bg-gray-200","hover:bg-gray-300","focus:outline-2","focus:outline-offset-2","focus:outline-gray-300","active:bg-gray-500","transition","duration-400","ease-in-out",3,"click"],[1,"material-symbols-rounded","text-[1.75rem]"],["id","sidebar-nav",1,""],["id","nav-list primary-nav",1,"flex","flex-col","list-none","gap-[12px]","px-[11px]","py-[15px]","font-[Ubuntu]","font-bold"],["id","nav-item",1,""],["routerLink","/","id","nav-link","onclick","this.blur()",1,"h-[35px]","flex","gap-[12px]","items-center","text-indigo-500","rounded-[8px]","hover:bg-gray-200","focus:outline-2","focus:outline-offset-2","transition","duration-400","ease-in-out"],[1,"material-symbols-rounded","pl-2"],["id","nav-label"],["id","nav-list secondary-nav",1,"absolute","bottom-[30px]","w-[100%]","flex","flex-col","list-none","gap-[12px]","px-[11px]","py-[15px]","font-[Ubuntu]","font-bold"],["id","nav-link","onclick","this.blur()",1,"h-[35px]","flex","gap-[12px]","items-center","text-indigo-500","rounded-[8px]","hover:bg-gray-200","focus:outline-2","focus:outline-offset-2","transition","duration-400","ease-in-out",3,"click"],[1,"max-w-screen-xl","mx-auto"],[1,"sm:ml-64","relative","overflow-x-auto","shadow-md","sm:rounded-lg","pt-10"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],["colspan","4",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"text-center"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"],[1,"flex","items-center","px-6","py-4"],["href","#",1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline"],["href","#",1,"font-medium","text-red-600","dark:text-red-500","hover:underline","ms-3"],["colspan","4",1,"px-6","py-4","text-center"]],template:function(n,a){n&1&&(h(0,"link",0)(1,"link",1)(2,"link",2)(3,"link",3)(4,"link",4),e(5,"section",5)(6,"aside",6)(7,"header",7)(8,"a",8),h(9,"img",9),t(),e(10,"button",10),b("click",function(){return a.toggleSidebar()}),e(11,"span",11),i(12,"arrow_menu_close"),t()()(),e(13,"nav",12)(14,"ul",13)(15,"li",14)(16,"a",15)(17,"span",16),i(18,"home"),t(),e(19,"span",17),i(20,"Inicio"),t()()(),e(21,"li",14)(22,"a",15)(23,"span",16),i(24,"flatware"),t(),e(25,"span",17),i(26,"Pedidos"),t()()()(),e(27,"ul",18)(28,"li",14)(29,"a",15)(30,"span",16),i(31,"account_circle"),t(),e(32,"span",17),i(33,"Usuario"),t()()(),e(34,"li",14)(35,"a",19),b("click",function(){return a.logOut()}),e(36,"span",16),i(37,"logout"),t(),e(38,"span",17),i(39,"Log Out"),t()()()()()(),e(40,"section",20)(41,"div",21)(42,"table",22)(43,"thead",23)(44,"tr")(45,"th",24),i(46," Id "),t(),e(47,"th",24),i(48," Title "),t(),e(49,"th",24),i(50," Description "),t(),e(51,"th",24),i(52," Action "),t()()(),e(53,"tbody"),S(54,j,4,0,"tr",25)(55,B,3,1),t()()()()()),n&2&&(d(54),g(a.notesService.loading()?54:-1),d(),g(!a.notesService.loading()&&!a.notesService.error()?55:-1))},dependencies:[N],encapsulation:2})};export{T as NoteListComponent};
